{"version":3,"file":"bundle.js","sources":["../src/lib/helpers.js","../src/lib/question.js","../src/lib/storage.js","../src/lib/highscore.js","../src/lib/game.js","../src/index.js"],"sourcesContent":["\n/**\n * Hreinsa börn úr elementi\n *\n * @param {object} element Element sem á að hreinsa börn úr\n */\nexport function empty(element) {\n  while (element.firstChild) {\n    element.removeChild(element.firstChild);\n  }\n}\n\n/**\n * Búa til element og aukalega setja börn ef send með\n *\n * @param {string} name Nafn á element\n * @param  {...any} children Börn fyrir element\n */\nexport function el(name, ...children) {\n  const element = document.createElement(name);\n\n  if (Array.isArray(children)) {\n    children.forEach((child) => {\n      if (typeof child === 'string') {\n        element.appendChild(document.createTextNode(child));\n      } else if (child) {\n        element.appendChild(child);\n      }\n    });\n  }\n\n  return element;\n}\n","/**\n * Úr sýnilausn fyrir verkefni 7.\n */\n\nconst operators = ['+', '-', '*', '/'];\n\n/**\n* Skilar tölu af handahófi á bilinu [min, max]\n*/\nfunction randomNumber(min, max) {\n  return Math.floor(Math.random() * (max - min + 1)) + min;\n}\n\n/**\n* Útbýr spurningu og skilar sem hlut:\n* { problem: strengur með spurningu, answer: svar við spurningu sem tala }\n*/\nexport default function question() {\n  const operator = operators[randomNumber(0, operators.length - 1)];\n\n  let a = null;\n  let b = null;\n  let answer = null;\n\n  switch (operator) {\n    case '+':\n      a = randomNumber(10, 100);\n      b = randomNumber(10, 100);\n      answer = a + b;\n      break;\n    case '-':\n      a = randomNumber(10, 100);\n      b = randomNumber(10, a);\n      answer = a - b;\n      break;\n    case '*':\n      a = randomNumber(1, 10);\n      b = randomNumber(1, 10);\n      answer = a * b;\n      break;\n    case '/':\n      b = randomNumber(2, 10);\n      a = randomNumber(2, 10) * b;\n      answer = a / b;\n      break;\n    default:\n      break;\n  }\n\n  return {\n    problem: `${a} ${operator} ${b}`,\n    answer,\n  };\n}\n","/**\n * Sækir og vistar í localStorage\n */\n\n// Fast sem skilgreinir heiti á lykli sem vistað er undir í localStorage\nconst LOCALSTORAGE_KEY = 'calc_game_scores';\n\n/**\n * Sækir gögn úr localStorage. Skilað sem röðuðum lista á forminu:\n * { points: <stig>, name: <nafn> }\n *\n * @returns {array} Raðað fylki af svörum eða tóma fylkið ef ekkert vistað.\n */\nexport function load() {\n  // todo útfæra\n  return JSON.parse(window.localStorage.getItem(LOCALSTORAGE_KEY));\n}\n\n/**\n * Vista stig\n *\n * @param {string} name Nafn þess sem á að vista\n * @param {number} points Stig sem á að vista\n */\nexport function save(name, points) {\n  const data = window.localStorage.getItem(LOCALSTORAGE_KEY);\n\n  if(data === null) {\n    const arr = JSON.stringify([{\n      name: _name,\n      points: _points,\n    }]);\n    window.localStorage.setItem(LOCALSTORAGE_KEY, arr);\n  } else {\n    const obj = JSON.parse(data);\n    obj.push({\n      name: _name,\n      points: _points,\n    });\n    obj.sort((a,b) => {\n      return b.points - a.points;\n    });\n    window.localStorage.setItem(LOCALSTORAGE_KEY, JSON.stringify(obj));\n  }\n}\n\n/**\n * Hreinsa öll stig úr localStorage\n */\nexport function clear() {\n  window.localStorage.clear();\n}\n","// todo vísa í rétta hluti með import\nimport { clear as storageClear, load as storageLoad } from './storage';\nimport { empty, el } from './helpers';\n/**\n * Reikna út stig fyrir svör út frá heildarfjölda svarað á tíma.\n * Ekki þarf að gera ráð fyrir hversu lengi seinasta spurning var sýnd. Þ.e.a.s.\n * stig verða alltaf reiknuð fyrir n-1 af n spurningum.\n *\n * @param {number} total Heildarfjöldi spurninga\n * @param {number} correct Fjöldi svarað rétt\n * @param {number} time Tími sem spurningum var svarað á í sekúndum\n *\n * @returns {number} Stig fyrir svör\n */\nexport function score(total, correct, time) {\n  // todo útfæra\n  return Math.round(((((correct / total) ** 2) + correct) * total / time) * 100);\n}\n\n/**\n * Útbúa stigatöflu, sækir gögn í gegnum storage.js\n */\nexport default class Highscore {\n  constructor() {\n    this.scores = document.querySelector('.highscore__scores');\n    this.button = document.querySelector('.highscore__button');\n    this.button.addEventListener('click', this.clear.bind(this));\n  }\n\n  /**\n   * Hlaða stigatöflu inn\n   */\n  load() {\n    // todo útfæra\n    if (storageLoad() !== null) this.button.classList.remove('highscore__button--hidden');\n  }\n\n  /**\n   * Hreinsa allar færslur úr stigatöflu, tengt við takka .highscore__button\n   */\n  clear() {\n    storageClear();\n    empty(this.scores);\n    this.scores.appendChild(el('p', 'Engin stig skráð'));\n    this.button.classList.add('highscore__button--hidden');\n  }\n\n  /**\n   * Hlaða inn stigatöflu fyrir gefin gögn.\n   *\n   * @param {array} data Fylki af færslum í stigatöflu\n   */\n  highscore(data) {\n    // todo útfæra\n\n    const datainfo = _datainfo;\n    empty(this.scores);\n    const listi = el('ol');\n\n    for (let i = 0; i < datainfo.length; i += 1) {\n      const s = datainfo[i];\n      const name = el('span', s.name);\n      name.classList.add('highscore__name');\n      const points = el('span', `${s.points} stig  `);\n      points.classList.add('highscore__number');\n      const li = el('li');\n      li.appendChild(points);\n      li.appendChild(name);\n      listi.appendChild(li);\n    }\n    this.scores.appendChild(listi);\n  }\n}\n","// todo vísa í rétta hluti með import\nimport { empty, el } from './helpers';\nimport question from './question';\nimport { score } from './highscore';\nimport { load, save } from './storage';\nimport Highscore from './highscore';\n\n// allar breytur hér eru aðeins sýnilegar innan þessa módúl\n\nlet startButton; // takki sem byrjar leik\nlet problem; // element sem heldur utan um verkefni, sjá index.html\nlet result; // element sem heldur utan um niðurstöðu, sjá index.html\n\nlet playTime; // hversu lengi á að spila? Sent inn gegnum init()\nlet total = 0; // fjöldi spurninga í núverandi leik\nlet correct = 0; // fjöldi réttra svara í núverandi leik\nlet currentProblem; // spurning sem er verið að sýna\n\n\nconst highscore = new Highscore();\n/**\n * Klárar leik. Birtir result og felur problem. Reiknar stig og birtir í result.\n */\nfunction finish() {\n  \n  const points = score(total, correct, playTime);\n  const text = `Þú svaraðir ${correct} rétt af ${total} spurningum og fékkst ${points} stig fyrir. Skráðu þig á stigatöfluna!`;\n  \n  result.querySelector('.result__text').appendChild(document.createTextNode(text));\n\n  problem.classList.add('problem--hidden');\n  result.classList.remove('result--hidden');\n  // todo útfæra\n\n}\n\n/**\n * Keyrir áfram leikinn. Telur niður eftir því hve langur leikur er og þegar\n * tími er búinn kallar í finish().\n *\n * Í staðinn fyrir að nota setInterval köllum við í setTimeout á sekúndu fresti.\n * Þurfum þá ekki að halda utan um id á intervali og skilum falli sem lokar\n * yfir fjölda sekúnda sem eftir er.\n *\n * @param {number} current Sekúndur eftir\n */\nfunction tick(current) {\n  // todo uppfæra tíma á síðu\n  empty(problem.querySelector('.problem__timer'));\n  problem.querySelector('.problem__timer').appendChild(el('p', `${current}`));\n\n\n  if (current <= 0) {\n    return finish();\n  }\n\n  return () => {\n    setTimeout(tick(current - 1), 1000);\n  };\n}\n\n/**\n * Býr til nýja spurningu og sýnir undir .problem__question\n */\nfunction showQuestion() {\n  // todo útfæra\n  currentProblem = question();\n  empty(document.querySelector('.problem__question'));\n  document.querySelector('.problem__question').appendChild(document.createTextNode(currentProblem.problem));\n}\n\n/*\n * Byrjar leik\n *\n * - Felur startButton og sýnir problem\n * - Núllstillir total og correct\n * - Kallar í fyrsta sinn í tick()\n * - Sýnir fyrstu spurningu\n */\nfunction start() {\n  // todo útfæra\n  startButton.classList.add('button--hidden');\n  total = 0;\n  correct = 0;\n\n  setTimeout(tick(playTime), 1000);\n\n  problem.classList.remove('problem--hidden');\n  problem.querySelector('.problem__input').focus();\n  showQuestion();\n}\n\n/*\n * Event handler fyrir það þegar spurningu er svarað. Athugar hvort svar sé\n * rétt, hreinsar input og birtir nýja spurningu.\n *\n * @param {object} e Event þegar spurningu svarað\n */\nfunction onSubmit(e) {\n  e.preventDefault();\n\n  // todo útfæra\n\n  e.preventDefault();\n  if (Number(problem.querySelector('.problem__input').value) === currentProblem.answer) {\n    correct += 1;\n  }\n  total += 1;\n  problem.querySelector('.problem__input').value = '';\n  problem.querySelector('.problem__input').focus();\n\n  showQuestion();\n}\n\n/*\n * Event handler fyrir þegar stig eru skráð eftir leik.\n *\n * @param {*} e Event þegar stig eru skráð\n */\nfunction onSubmitScore(e) {\n  e.preventDefault();\n\n  // todo útfæra\n  problem.querySelector('.problem__input').value = '';\n  save(result.querySelector('.result__input').value, score(total, correct, playTime));\n\n  empty(result.querySelector('.result__text'));\n  result.querySelector('.result__input').value = '';\n\n  result.classList.add('result--hidden');\n  problem.classList.add('problem--hidden');\n  startButton.classList.remove('button--hidden');\n\n  highscore.load();\n  highscore.highscore(load());\n}\n\n/**\n * Finnur öll element DOM og setur upp event handlers.\n *\n * @param {number} _playTime Fjöldi sekúnda sem hver leikur er\n */\nexport default function init(_playTime) {\n  playTime = _playTime;\n  highscore.clear();\n\n  // todo útfæra\n  startButton = document.querySelector('.start');\n  problem = document.querySelector('.problem');\n  result = document.querySelector('.result');\n\n  startButton.addEventListener('click', start);\n  problem.querySelector('.button').addEventListener('click', onSubmit);\n  result.querySelector('.button').addEventListener('click', onSubmitScore);\n}\n\n","import initGame from './lib/game';\nimport Highscore from './lib/highscore';\n\nconst PLAY_TIME = 10;\n\ndocument.addEventListener('DOMContentLoaded', () => {\n  initGame(PLAY_TIME);\n\n  const highscore = new Highscore();\n  highscore.load();\n});\n"],"names":["empty","element","firstChild","removeChild","el","name","document","createElement","children","Array","isArray","forEach","child","appendChild","createTextNode","operators","randomNumber","min","max","Math","floor","random","question","operator","length","a","b","answer","problem","LOCALSTORAGE_KEY","load","JSON","parse","window","localStorage","getItem","save","points","data","arr","stringify","_name","_points","setItem","obj","push","sort","clear","score","total","correct","time","round","Highscore","scores","querySelector","button","addEventListener","bind","storageLoad","classList","remove","storageClear","add","datainfo","_datainfo","listi","i","s","li","startButton","result","playTime","currentProblem","highscore","finish","text","tick","current","setTimeout","showQuestion","start","focus","onSubmit","e","preventDefault","Number","value","onSubmitScore","init","_playTime","PLAY_TIME","initGame"],"mappings":"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"}